*** Settings ***
Library           ../lib/Selenium2Improved.py
Resource          ../common_resource.txt
Resource          ../Project/ezScrum_Project.txt
Resource          ../SprintBacklog/ezScrum_SprintBacklog_Story.txt
Resource          ../SprintBacklog/ezScrum_SprintBacklog_Task.txt
Resource          ../ezScrum_Login.txt
Resource          ../../ServerConfig.txt

*** Keywords ***
Test TaskBoard - Setup
    Comment    Open Browser    ${LOGIN_URL}    ${BROWSER}

Test TaskBoard - Teardown
    Comment    Close Browser

Test TaskBoard - Precondition
    _LoginEzScrum
    # 確認專案是否存在
    Wait Until Page Contains Element    createProjectBtn
    ${_IsProjectIDExisted}=    Check ProjectID Is Existed    ${PROJECT_NAME}
    Run Keyword If    "${_IsProjectIDExisted}"=="false"    Create Project
    Run Keyword If    "${_IsProjectIDExisted}"=="true"    Select Project    ${PROJECT_NAME}DisplayName
    Select Node Product    Sprint Plan
    # new sprint
    Create Sprint    TaskBoard AT    2    4    100    100
    # new story
    Select Node Product    Sprint Backlog
    Set Test Variable    ${tcStoryName}    story for taskboard AT
    Set Test Variable    ${tcStoryValue}    1
    Set Test Variable    ${tcStoryEstimate}    2
    Set Test Variable    ${tcStoryImportance}    3
    Set Test Variable    ${tcStoryNotes}    notes for show taskboard AT
    Set Test Variable    ${tcStoryHowToDemo}    demo display after show taskboard AT
    Create Story With Arguments    ${tcStoryName}    ${tcStoryValue}    ${tcStoryEstimate}    ${tcStoryImportance}    ${EMPTY}    ${tcStoryNotes}
    ...    ${tcStoryHowToDemo}
    ${tcStoryID}=    Get Story ID In Sprint Backlog    ${tcStoryName}
    Set Test Variable    ${tcStoryID}

Test TaskBoard - Postcondition
    Set Selenium Speed    ${SELENIUM_SPEED}
    # delete story and tag
    Clean All Story
    Clean All Tag
    # delete sprint
    Clean All Sprint
    Clean DB    ${DB_URL}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${DB_NAME}
    _LogoutEzScrum

Test TaskBoard - New Precondition
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    TaskBoard    Precondition.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    _InputLoginForm    ${userName}    ${userPassword}
    Select Project    localtestProjectDisplayName
    Select Node Product    Sprint Backlog
    # variables
    Set Test Variable    ${tcStoryName}    story for taskboard AT
    Set Test Variable    ${tcStoryValue}    1
    Set Test Variable    ${tcStoryEstimate}    2
    Set Test Variable    ${tcStoryImportance}    3
    Set Test Variable    ${tcStoryNotes}    notes for show taskboard AT
    Set Test Variable    ${tcStoryHowToDemo}    demo display after show taskboard AT
    ${tcStoryID}=    Get Story ID In Sprint Backlog    ${tcStoryName}
    Set Test Variable    ${tcStoryID}

Test TaskBoard - New Postcondition
    Clean DB    ${DB_URL}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${DB_NAME}
    Exit ezScrum System

Test TaskBoard - Sprint Information Setup
    Comment    Test TaskBoard - New Precondition
    Comment    # task information
    Comment    Set Test Variable    ${tcTaskName}    task 1 for test Sprint Information
    Comment    Set Test Variable    ${tcTaskEstimate}    3
    Comment    Set Test Variable    ${tcTaskNotes}    notes for test Sprint Information
    Comment    # new task
    Comment    Add Task With Arguments    ${tcStoryID}    ${tcTaskName}    ${tcTaskEstimate}    ${tcTaskNotes}
    Comment    ${tcTaskID}=    Get Task ID In Sprint Backlog    ${tcTaskName}
    Comment    Set Test Variable    ${tcTaskID}
    #New Setup
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    TaskBoard    Sprint_Information.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    _InputLoginForm    ${userName}    ${userPassword}
    Select Project    localtestProjectDisplayName
    Sleep    5s
    Select Node Product    Sprint Backlog
    # variables
    Set Test Variable    ${tcStoryName}    story for taskboard AT
    Set Test Variable    ${tcStoryValue}    1
    Set Test Variable    ${tcStoryEstimate}    2
    Set Test Variable    ${tcStoryImportance}    3
    Set Test Variable    ${tcStoryNotes}    notes for show taskboard AT
    Set Test Variable    ${tcStoryHowToDemo}    demo display after show taskboard AT
    ${tcStoryID}=    Get Story ID In Sprint Backlog    ${tcStoryName}
    Set Test Variable    ${tcStoryID}
    # task information
    Set Test Variable    ${tcTaskName}    task 1 for test Sprint Information
    Set Test Variable    ${tcTaskEstimate}    3
    Set Test Variable    ${tcTaskNotes}    notes for test Sprint Information
    ${tcTaskID}=    Get Task ID In Sprint Backlog    ${tcTaskName}
    Set Test Variable    ${tcTaskID}

Test TaskBoard - Sprint Information Teardown
    Test TaskBoard - New Postcondition

Test TaskBoard - Task Checked Out Setup
    Comment    Test TaskBoard - New Precondition
    Comment    # task information
    Comment    Set Test Variable    ${tcTaskName}    task 1 for test task Checked Out
    Comment    Set Test Variable    ${tcTaskEstimate}    3
    Comment    Set Test Variable    ${tcTaskNotes}    notes for test task Checked Out
    Comment    # new task
    Comment    Add Task With Arguments    ${tcStoryID}    ${tcTaskName}    ${tcTaskEstimate}    ${tcTaskNotes}
    Comment    ${tcTaskID}=    Get Task ID In Sprint Backlog    ${tcTaskName}
    Comment    Set Test Variable    ${tcTaskID}
    #New Setup
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    TaskBoard    Task_Checked_Out.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    _InputLoginForm    ${userName}    ${userPassword}
    Select Project    localtestProjectDisplayName
    Sleep    5s
    Select Node Product    Sprint Backlog
    # variables
    Set Test Variable    ${tcStoryName}    story for taskboard AT
    Set Test Variable    ${tcStoryValue}    1
    Set Test Variable    ${tcStoryEstimate}    2
    Set Test Variable    ${tcStoryImportance}    3
    Set Test Variable    ${tcStoryNotes}    notes for show taskboard AT
    Set Test Variable    ${tcStoryHowToDemo}    demo display after show taskboard AT
    ${tcStoryID}=    Get Story ID In Sprint Backlog    ${tcStoryName}
    Set Test Variable    ${tcStoryID}
    # task information
    Set Test Variable    ${tcTaskName}    task 1 for test task Checked Out
    Set Test Variable    ${tcTaskEstimate}    3
    Set Test Variable    ${tcTaskNotes}    notes for test task Checked Out
    ${tcTaskID}=    Get Task ID In Sprint Backlog    ${tcTaskName}
    Set Test Variable    ${tcTaskID}

Test TaskBoard - Task Checked Out Teardown
    Test TaskBoard - New Postcondition

Test TaskBoard - Task Done Setup
    Comment    Test TaskBoard - New Precondition
    Comment    # task information
    Comment    Set Test Variable    ${tcTaskName}    task 1 for test task Done
    Comment    Set Test Variable    ${tcTaskEstimate}    3
    Comment    Set Test Variable    ${tcTaskNotes}    notes for test task Done
    Comment    # new task
    Comment    Add Task With Arguments    ${tcStoryID}    ${tcTaskName}    ${tcTaskEstimate}    ${tcTaskNotes}
    Comment    ${tcTaskID}=    Get Task ID In Sprint Backlog    ${tcTaskName}
    Comment    Set Test Variable    ${tcTaskID}
    #New Setup
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    TaskBoard    Task_Done.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    _InputLoginForm    ${userName}    ${userPassword}
    Select Project    localtestProjectDisplayName
    Select Node Product    Sprint Backlog
    # variables
    Set Test Variable    ${tcStoryName}    story for taskboard AT
    Set Test Variable    ${tcStoryValue}    1
    Set Test Variable    ${tcStoryEstimate}    2
    Set Test Variable    ${tcStoryImportance}    3
    Set Test Variable    ${tcStoryNotes}    notes for show taskboard AT
    Set Test Variable    ${tcStoryHowToDemo}    demo display after show taskboard AT
    ${tcStoryID}=    Get Story ID In Sprint Backlog    ${tcStoryName}
    Set Test Variable    ${tcStoryID}
    # task information
    Set Test Variable    ${tcTaskName}    task 1 for test task Done
    Set Test Variable    ${tcTaskEstimate}    3
    Set Test Variable    ${tcTaskNotes}    notes for test task Done
    ${tcTaskID}=    Get Task ID In Sprint Backlog    ${tcTaskName}
    Set Test Variable    ${tcTaskID}

Test TaskBoard - Task Done Teardown
    Test TaskBoard - New Postcondition

Test TaskBoard - Task ReOpen Setup
    Comment    Test TaskBoard - New Precondition
    Comment    # task information
    Comment    Set Test Variable    ${tcTaskName}    task 1 for test task ReOpen
    Comment    Set Test Variable    ${tcTaskEstimate}    3
    Comment    Set Test Variable    ${tcTaskNotes}    notes for test task ReOpen
    Comment    # new task
    Comment    Add Task With Arguments    ${tcStoryID}    ${tcTaskName}    ${tcTaskEstimate}    ${tcTaskNotes}
    Comment    ${tcTaskID}=    Get Task ID In Sprint Backlog    ${tcTaskName}
    Comment    Set Test Variable    ${tcTaskID}
    #New Setup
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    TaskBoard    Task_ReOpen.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    _InputLoginForm    ${userName}    ${userPassword}
    Select Project    localtestProjectDisplayName
    Select Node Product    Sprint Backlog
    # variables
    Set Test Variable    ${tcStoryName}    story for taskboard AT
    Set Test Variable    ${tcStoryValue}    1
    Set Test Variable    ${tcStoryEstimate}    2
    Set Test Variable    ${tcStoryImportance}    3
    Set Test Variable    ${tcStoryNotes}    notes for show taskboard AT
    Set Test Variable    ${tcStoryHowToDemo}    demo display after show taskboard AT
    ${tcStoryID}=    Get Story ID In Sprint Backlog    ${tcStoryName}
    Set Test Variable    ${tcStoryID}
    # task information
    Set Test Variable    ${tcTaskName}    task 1 for test task ReOpen
    Set Test Variable    ${tcTaskEstimate}    3
    Set Test Variable    ${tcTaskNotes}    notes for test task ReOpen
    ${tcTaskID}=    Get Task ID In Sprint Backlog    ${tcTaskName}
    Set Test Variable    ${tcTaskID}

Test TaskBoard - Task ReOpen Teardown
    Test TaskBoard - New Postcondition

Test TaskBoard - Task ReChecked Out Setup
    Comment    Test TaskBoard - New Precondition
    Comment    # task information
    Comment    Set Test Variable    ${tcTaskName}    task 1 for test task ReChecked Out
    Comment    Set Test Variable    ${tcTaskEstimate}    3
    Comment    Set Test Variable    ${tcTaskNotes}    notes for test task ReChecked Out
    Comment    # new task
    Comment    Add Task With Arguments    ${tcStoryID}    ${tcTaskName}    ${tcTaskEstimate}    ${tcTaskNotes}
    Comment    ${tcTaskID}=    Get Task ID In Sprint Backlog    ${tcTaskName}
    Comment    Set Test Variable    ${tcTaskID}
    #New Setup
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    TaskBoard    Task_ReChecked_Out.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    _InputLoginForm    ${userName}    ${userPassword}
    Select Project    localtestProjectDisplayName
    Select Node Product    Sprint Backlog
    # variables
    Set Test Variable    ${tcStoryName}    story for taskboard AT
    Set Test Variable    ${tcStoryValue}    1
    Set Test Variable    ${tcStoryEstimate}    2
    Set Test Variable    ${tcStoryImportance}    3
    Set Test Variable    ${tcStoryNotes}    notes for show taskboard AT
    Set Test Variable    ${tcStoryHowToDemo}    demo display after show taskboard AT
    ${tcStoryID}=    Get Story ID In Sprint Backlog    ${tcStoryName}
    Set Test Variable    ${tcStoryID}
    # task information
    Set Test Variable    ${tcTaskName}    task 1 for test task ReChecked Out
    Set Test Variable    ${tcTaskEstimate}    3
    Set Test Variable    ${tcTaskNotes}    notes for test task ReChecked Out
    ${tcTaskID}=    Get Task ID In Sprint Backlog    ${tcTaskName}
    Set Test Variable    ${tcTaskID}

Test TaskBoard - Task ReChecked Out Teardown
    Test TaskBoard - New Postcondition

Test TaskBoard - Story Done Setup
    Comment    Test TaskBoard - New Precondition
    Comment    # task information
    Comment    Set Test Variable    ${tcTaskName}    task 1 for test story Done
    Comment    Set Test Variable    ${tcTaskEstimate}    3
    Comment    Set Test Variable    ${tcTaskNotes}    notes for test story Done
    Comment    # new task
    Comment    Add Task With Arguments    ${tcStoryID}    ${tcTaskName}    ${tcTaskEstimate}    ${tcTaskNotes}
    Comment    ${tcTaskID}=    Get Task ID In Sprint Backlog    ${tcTaskName}
    Comment    Set Test Variable    ${tcTaskID}
    #New Setup
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    TaskBoard    Story_Done.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    _InputLoginForm    ${userName}    ${userPassword}
    Select Project    localtestProjectDisplayName
    Select Node Product    Sprint Backlog
    # variables
    Set Test Variable    ${tcStoryName}    story for taskboard AT
    Set Test Variable    ${tcStoryValue}    1
    Set Test Variable    ${tcStoryEstimate}    2
    Set Test Variable    ${tcStoryImportance}    3
    Set Test Variable    ${tcStoryNotes}    notes for show taskboard AT
    Set Test Variable    ${tcStoryHowToDemo}    demo display after show taskboard AT
    ${tcStoryID}=    Get Story ID In Sprint Backlog    ${tcStoryName}
    Set Test Variable    ${tcStoryID}
    # task information
    Set Test Variable    ${tcTaskName}    task 1 for test story Done
    Set Test Variable    ${tcTaskEstimate}    3
    Set Test Variable    ${tcTaskNotes}    notes for test story Done
    ${tcTaskID}=    Get Task ID In Sprint Backlog    ${tcTaskName}
    Set Test Variable    ${tcTaskID}

Test TaskBoard - Story Done Teardown
    Comment    Set Selenium Speed    ${SELENIUM_SPEED}
    Comment    # Test TaskBoard - Postcondition
    Comment    Select Node Product    Product Backlog
    Comment    # Delete Story
    Comment    Delete Closed Story With StoryID    ${tcStoryID}
    Comment    # clean tag
    Comment    Clean All Tag
    Comment    # clean sprint
    Comment    Clean All Sprint
    Clean DB    ${DB_URL}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${DB_NAME}
    Exit ezScrum System

Test TaskBoard - Story ReOpen Setup
    Comment    Test TaskBoard - New Precondition
    Comment    # task information
    Comment    Set Test Variable    ${tcTaskName}    task 1 for test story ReOpen
    Comment    Set Test Variable    ${tcTaskEstimate}    3
    Comment    Set Test Variable    ${tcTaskNotes}    notes for test story ReOpen
    Comment    # new task
    Comment    Add Task With Arguments    ${tcStoryID}    ${tcTaskName}    ${tcTaskEstimate}    ${tcTaskNotes}
    Comment    ${tcTaskID}=    Get Task ID In Sprint Backlog    ${tcTaskName}
    Comment    Set Test Variable    ${tcTaskID}
    #New Setup
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    TaskBoard    Story_ReOpen.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    _InputLoginForm    ${userName}    ${userPassword}
    Select Project    localtestProjectDisplayName
    Select Node Product    Sprint Backlog
    # variables
    Set Test Variable    ${tcStoryName}    story for taskboard AT
    Set Test Variable    ${tcStoryValue}    1
    Set Test Variable    ${tcStoryEstimate}    2
    Set Test Variable    ${tcStoryImportance}    3
    Set Test Variable    ${tcStoryNotes}    notes for show taskboard AT
    Set Test Variable    ${tcStoryHowToDemo}    demo display after show taskboard AT
    ${tcStoryID}=    Get Story ID In Sprint Backlog    ${tcStoryName}
    Set Test Variable    ${tcStoryID}
    # task information
    Set Test Variable    ${tcTaskName}    task 1 for test story ReOpen
    Set Test Variable    ${tcTaskEstimate}    3
    Set Test Variable    ${tcTaskNotes}    notes for test story ReOpen
    ${tcTaskID}=    Get Task ID In Sprint Backlog    ${tcTaskName}
    Set Test Variable    ${tcTaskID}

Test TaskBoard - Story ReOpen Teardown
    Test TaskBoard - New Postcondition

Test TaskBoard - Story Done But All the tasks of Story are not Done Setup
    Comment    Test TaskBoard - New Precondition
    Comment    # task information
    Comment    Set Test Variable    ${tcTaskName}    task 1 for test Story Done But All the tasks of Story are not Done
    Comment    Set Test Variable    ${tcTaskEstimate}    3
    Comment    Set Test Variable    ${tcTaskNotes}    notes for test Story Done But All the tasks of Story are not Done
    Comment    # new task
    Comment    Add Task With Arguments    ${tcStoryID}    ${tcTaskName}    ${tcTaskEstimate}    ${tcTaskNotes}
    Comment    ${tcTaskID}=    Get Task ID In Sprint Backlog    ${tcTaskName}
    Comment    Set Test Variable    ${tcTaskID}
    #New Setup
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    TaskBoard    Story_Done_But_All_the_tasks_of_Story_are_not_Done.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    _InputLoginForm    ${userName}    ${userPassword}
    Select Project    localtestProjectDisplayName
    Wait Until Page Contains    Sprint Backlog
    Select Node Product    Sprint Backlog
    # variables
    Set Test Variable    ${tcStoryName}    story for taskboard AT
    Set Test Variable    ${tcStoryValue}    1
    Set Test Variable    ${tcStoryEstimate}    2
    Set Test Variable    ${tcStoryImportance}    3
    Set Test Variable    ${tcStoryNotes}    notes for show taskboard AT
    Set Test Variable    ${tcStoryHowToDemo}    demo display after show taskboard AT
    ${tcStoryID}=    Get Story ID In Sprint Backlog    ${tcStoryName}
    Set Test Variable    ${tcStoryID}
    # task information
    Set Test Variable    ${tcTaskName}    task 1 for test Story Done But All the tasks of Story are not Done
    Set Test Variable    ${tcTaskEstimate}    3
    Set Test Variable    ${tcTaskNotes}    notes for test Story Done But All the tasks of Story are not Done
    ${tcTaskID}=    Get Task ID In Sprint Backlog    ${tcTaskName}
    Set Test Variable    ${tcTaskID}

Test TaskBoard - Story Done But All the tasks of Story are not Done Teardown
    Test TaskBoard - New Postcondition

_LoginEzScrum
    ${userName}=    Set Variable    admin
    ${userPassword}=    Set Variable    admin
    Set Selenium Speed    ${SELENIUM_SPEED}
    Input Text    userId    ${userName}
    Input Password    password    ${userPassword}
    Submit Form    logonForm
    Title Should Be    ezScrum, SSLab NTUT

_LogoutEzScrum
    Click Image    images/logout.gif
    Title Should Be    ezScrum Logon!

Test TaskBoard - Task Done with Partner Setup
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    TaskBoard    Task_Done_with_Partner.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    _InputLoginForm    Acount01    Acount01
    Select Project    Project01
    Select Node Product    TaskBoard

Test TaskBoard - Task Done with Partner Teardown
    Clean DB    ${DB_URL}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${DB_NAME}
    Close Browser

Test TaskBoard - Initial Release ID Check Setup
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    TaskBoard    Initial_ReleaseID_Check.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    _InputLoginForm    ${userName}    ${userPassword}
    Select Project    helloWorld

Test TaskBoard - Initial Release ID Check Teardown
    Test TaskBoard - New Postcondition

Test TaskBoard - Check Task Consistency After Dragging Setup
    Set Selenium Speed    ${SELENIUM_SPEED}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    TaskBoard    TwoProjectsTest.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    Maximize Browser Window
    _InputLoginForm    ${userName}    ${userPassword}
    Select Project    SecondCreateProject
    Select Node Product    TaskBoard

Test TaskBoard - Check Task Consistency After Dragging Teardown
    Clean DB    ${DB_URL}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${DB_NAME}
    Close All Browsers

Test TaskBoard - Check Task Consistency After Editing in Done Area Setup
    Set Selenium Speed    ${SELENIUM_SPEED}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    TaskBoard    TwoProjectsTest.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    Maximize Browser Window
    _InputLoginForm    ${userName}    ${userPassword}
    Select Project    SecondCreateProject
    Select Node Product    TaskBoard

Test TaskBoard - Check Task Consistency After Editing in Done Area Teardown
    Clean DB    ${DB_URL}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${DB_NAME}
    Close All Browsers

Test TaskBoard - Check TaskBoard ID And Name Setup
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    TaskBoard    Test TaskBoard - Check Task ID And Name On The Window After Move To Done.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    _InputLoginForm    ${userName}    ${userPassword}
    Select Project    Project02
    ${TaskBoard}=    Set Variable    //div[@id="left_panel"]//span[text()="TaskBoard"]
    Wait Until Page Contains Element    ${TaskBoard}
    Click Element    ${TaskBoard}

Test TaskBoard - Check TaskBoard ID And Name Teardown
    Clean DB    ${DB_URL}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${DB_NAME}
    Close Browser

Test TaskBoard - Check Sprint ID Setup
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    TaskBoard    Test TaskBoard - Check Task ID And Name On The Window After Move To Done.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    _InputLoginForm    ${userName}    ${userPassword}
    Select Project    Project02
    ${TaskBoard}=    Set Variable    //div[@id="left_panel"]//span[text()="TaskBoard"]
    Wait Until Page Contains Element    ${TaskBoard}
    Click Element    ${TaskBoard}

Test TaskBoard - Check Sprint ID Teardown
    Clean DB    ${DB_URL}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${DB_NAME}
    Close Browser
