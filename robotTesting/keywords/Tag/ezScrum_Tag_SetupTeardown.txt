*** Settings ***
Library           ../lib/Selenium2Improved.py
Resource          ../../Global Define.txt
Resource          ../Project/ezScrum_Project.txt
Resource          ../../ServerConfig.txt

*** Keywords ***
Test Tag - ProductBacklog Add Tag with Edit Story in Proj. 01 Setup
    Set Selenium Speed    ${SELENIUM_SPEED}
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    Tag    TagTestTwoProjects.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    Input Text    xpath=//input[@name="userId"]    admin
    Input Text    xpath=//input[@name="password"]    admin
    Click Button    xpath=//input[@id="Next"]
    #Select Project
    Select Project    Project01
    Go To Page    Product Backlog

Test Tag - ProductBacklog Add Tag with Edit Story in Proj. 01 Teardown
    Clean Database    ${DB_URL}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${DB_NAME}
    Close Browser

Test Tag - Sprint Backlog Setup
    [Arguments]    ${Project}
    #setup
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    Tag    TagTestTwoProjects.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    _InputLoginForm    ${userName}    ${userPassword}
    #Select project
    Select Project    ${Project}
    Go To Page    Sprint Backlog

Test Tag - Sprint Backlog Teardown
    Clean DB    ${DB_URL}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${DB_NAME}
    Exit ezScrum System

Test Tag - ProductBacklog Setup
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    SprintBacklog    Printable_StoryEnable_and_TaskDisable.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    Input Text    xpath=//input[@name="userId"]    admin
    Input Text    xpath=//input[@name="password"]    admin
    Click Button    xpath=//input[@id="Next"]
    #Select Project
    Select Project    TestProject
    Go To Page    Sprint Backlog

Test Tag - ProductBacklog Teardown
    Clean Database    ${DB_URL}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${DB_NAME}
    Close Browser

Test Tag - Add Mutiple Tags with Tag Button Setup
    Set Selenium Speed    ${SELENIUM_SPEED}
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    Tag    TagTestTwoProjects.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    Input Text    xpath=//input[@name="userId"]    admin
    Input Text    xpath=//input[@name="password"]    admin
    Click Button    xpath=//input[@id="Next"]
    #Select Project
    Select Project    Project02
    Go To Page    Product Backlog

Test Tag - Add Mutiple Tags with Tag Button Teardown
    Clean Database    ${DB_URL}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${DB_NAME}
    Close Browser

Test Tag - Edit Tag Setup
    [Arguments]    ${Project}
    #setup
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    Tag    TagTestTwoProjects.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    _InputLoginForm    ${userName}    ${userPassword}
    #Select project
    Select Project    ${Project}
    Go To Page    Product Backlog

Test Tag - Edit Tag Teardown
    Clean DB    ${DB_URL}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${DB_NAME}
    Exit ezScrum System

Test Tag - ProductBacklog Add Tag with Edit Story in Proj. 02 Setup
    Set Selenium Speed    ${SELENIUM_SPEED}
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    Tag    TagTestTwoProjects.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    Input Text    xpath=//input[@name="userId"]    admin
    Input Text    xpath=//input[@name="password"]    admin
    Click Button    xpath=//input[@id="Next"]
    #Select Project
    Select Project    Project02
    Go To Page    Product Backlog

Test Tag - ProductBacklog Add Tag with Edit Story in Proj. 02 Teardown
    Clean Database    ${DB_URL}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${DB_NAME}
    Close Browser

Test Tag - ProductBacklog Edit Story and Tag Tags Setup
    Set Selenium Speed    ${SELENIUM_SPEED}
    Open Browser    ${LOGIN_URL}    ${BROWSER}
    ${attachFilePath}=    Catenate    SEPARATOR=\\    ${EXECDIR}    TestData    Tag    TagTestTwoProjects.sql
    Load Database    ${DB_URL}    ${DB_NAME}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${attachFilePath}
    Maximize Browser Window
    Wait Until Page Contains Element    xpath=//input[@name="userId"]    1 min
    Input Text    xpath=//input[@name="userId"]    admin
    Input Text    xpath=//input[@name="password"]    admin
    Click Button    xpath=//input[@id="Next"]

Test Tag - ProductBacklog Edit Story and Tag Tags Teardown
    Clean Database    ${DB_URL}    ${DB_ACCOUNT}    ${DB_PASSWORD}    ${DB_NAME}
    Close Browser
